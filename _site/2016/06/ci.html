<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Blog Name</title>
  <meta name="theme-color" content="#222222" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/header.js"></script>
  <script src="/js/toc.js"></script>
  <link href="/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/theme.css" rel="stylesheet">
  <link href="/css/syntax.css" rel="stylesheet">
  <link href="/css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
</head>

<body>

  

  


 <script type="text/javascript">
  WebFontConfig = {
    google: {
      families: ['Ubuntu::latin']
    }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();
</script>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Blog Name</a>
      </div>
      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li><a href="/">/home</a></li>
          <li><a href="/archive.html">/archive</a></li>
          <li><a href="/tags.html">/tags</a></li>
          <li><a href="/about.html">/about</a></li>
        </ul>
      </div>
    </div>
  </nav>


<div class="wrapper">
  <div class="content">
    <div class="container container-center">
      <div class="row">
        <div class="col-md-8">
          <div class="article">
            <div class="well">
              <h1><a href="/2016/06/ci">Ci</a></h1>
              <div class="post-meta">
                <div class="post-time">
                  <i class="fa fa-calendar"></i>
                  <time>26 Jun 2016</time>
                </div>
                <ul>
                  
                </ul>
              </div>
              <div class="post-content">
                <div id="toc" class="toc"></div>
                <p>CI server在其中CI中扮演的角色，只有三個：<br />
- 定時檢查版本庫是否有更新。<br />
- 透過Build Tool(Build Script)，驅動各項品質相關工具（包括建置、測試、分析、部署），產生分析結果。<br />
- 將分析結果回饋給團隊。</p>

<p>A day in the life of CI<br />
- 坐到座位上，打開電腦，看到CI最新的建置成功結果。<br />
- 看到了相關的測試、分析結果。<br />
- 接著請接到版本控管的相關步驟：<br />
    - 從版本庫取得最新版本的程式，一定要可以建置成功<br />
    - 將要修改的程式簽出（檔案鎖定式的VCS）<br />
    - 修改完程式<br />
    - 從版本庫更新最新版的程式，若有conflict則merge<br />
- Private Build，將版本庫上最新的source code（包括Unit Test）建置並執行單元測試，並通過其他Checkin policy規範的rule，checkin最新的程式到版本庫上。<br />
- 一段時間後，CI server檢查到版本庫上有更新，則更新最新版的source code，執行Build Script，產生建置、測試、分析與部署的相關結果。<br />
- 所有成員（或依結果等級決定哪些成員該收到）收到相關的email。</p>

<p>CI feature<br />
- Automated：自動化，不需人工介入。<br />
- Build：包括建置、測試、分析、部署甚至產生相關文件（例如根據最新source code產生API document）<br />
- Continuous: CI一旦啟動，就持續活著。<br />
- Continuous integration: 至少每天(Daily build)整合各項服務，儘早發現defect。</p>

<p>Base on CI的開發團隊feature</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1. 頻繁簽入，至少每天會checkin一版。
2. 不會從版本庫上get下來不能跑的程式，任何新加入的成員只要從版本庫上get下來就可以build。
3. 不會checkin不合規定的code。
4. 一旦發生因為同時簽入造成的建置失敗問題(包括測試失敗)，每個成員都會知道，並用最短的速度修復。
5. 自動測試的門檻降低。
6. 品質指標門檻與測試結果都必須通過。
7. 養成良好的簽入、簽出、private build的習慣。
</code></pre>
</div>

<p>CI的目的</p>

<div class="highlighter-rouge"><pre class="highlight"><code>1. 降低風險。
2. 減少人工手動的繁複程序。
3. 可隨時產生一版可部署的版本。
4. 增加系統透明度。
5. 建立團隊信心。
</code></pre>
</div>


                

              </div>
              
            </div>
          </div>
        </div>
        <div class="col-md-4 hidden-xs">
          <div class="sidebar ">
  <h2>Recent Posts</h2>
  <ul>
    
    <li><a href="/2016/07/kernel_initcall">Kernel_initcall</a></li>
    
    <li><a href="/2016/07/linux_netstack">Linux_netstack</a></li>
    
    <li><a href="/2016/07/kernel_init">Kernel_init</a></li>
    
    <li><a href="/2016/07/intercept_syscall">Intercept_syscall</a></li>
    
    <li><a href="/2016/07/uboot-net">Uboot Net</a></li>
    
  </ul>
</div>

<div class="sidebar">
  <h2>Tags</h2>
  <ul>
    
  </ul>
</div>

        </div>
      </div>
    </div>
    

  </div>
      <footer class="footer-distributed">
      <div class="container">
        <div class="footer">
          <p>Pavel Makhov &copy; 2015</p>
          <h6>Follow me</h6>

<ul class="social-media">

  
    <li>
      <a title="streetturtle on Github" href="https://github.com/streetturtle" target="_blank"><i class="fa fa-github fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on StackOverflow" href="http://stackoverflow.com/users/" target="_blank"><i class="fa fa-stack-overflow fa-2x"></i></a>
    </li>
  

  

  
    <li>
      <a title=" on Instagram" href="https://instagram.com/" target="_blank"><i class="fa fa-instagram fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title=" on Last.fm" href="http://lastfm.com/user/" target="_blank"><i class="fa fa-lastfm fa-2x"></i></a>
    </li>
  

  
    <li>
      <a title="feed.xml RSS" href="/feed.xml" target="_blank"><i class="fa fa-rss fa-2x"></i></a>
    </li>
  

</ul>

        </div>
      </div>
    </footer>
  </body>
</html>

</div>
