---
tags : [ Kernel , Linux , Linux 编程 ]
category : [ TECH ]
---


1. 编程环境不同

标准库函数  -  内核函数
c/c++、Java、python...  -   C
编译和解释gcc、clang、javac、python...    - gcc


2. 运行环境不同




3. 编程要求不同



4. 优点和缺点、场景


 
.           |应用程序       |内核模块程序
:--         |:--            |:--
使用函数    |libc 库        |内核函数
运行空间    |用户空间       |内核空间
运行权限    |普通用户       |超级用户
入口函数    |main()         |module_init
出口函数    |无             |module_exit
编译        |单独编译       |依赖内核编译
链接        |gcc            |insmod
运行        |直接运行       |insmod
调试        |gdb            |kdbug 、 kdb 、 kgdb




1. 应用程序是从头到尾执行单个任务；模块却只是预先注册自己以便服务于将来的某个请求，其中，函数init_module（模块的入口）的任务是为以后调用模块函数预先做准备，函数cleanup_module（模块的第二入口）是在模块卸载时调用。
2. 应用程序可以调用它未定义的函数，因为在连接过程能够解析外部引用从而使用适当的函数库；模块仅仅被连接到内核，因此它仅能调用有内核导出的函数（如printk），而没有任何可连接的库。
3. 应用程序开发过程中的段错误是无害的，并且总是可以使用调试器跟踪到源代码中的问题所在；内核模块的一个错误即使不对整个系统是致命的，也至少会对当前进程造成致命错误。
4. 应用程序运行于用户空间，处理器禁止其对硬件的直接访问以及对内存的未授权访问；内核模块运行于内核空间，可以进行所有操作。
5. 应用程序一般不必担心发生其他情况而改变它的运行环境；内核模块编程则必须考虑并发问题的处理。



